<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="1121pt" height="166pt"
 viewBox="0.00 0.00 1121.00 166.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 162)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-162 1117,-162 1117,4 -4,4"/>
<!-- U2 -->
<g id="node1" class="node">
<title>U2</title>
<ellipse fill="#fff2cc" stroke="#d6b656" cx="90.5" cy="-18" rx="83.69" ry="18"/>
<text text-anchor="middle" x="90.5" y="-14.3" font-family="Times,serif" font-size="14.00">User (Swapper)</text>
</g>
<!-- P1 -->
<g id="node2" class="node">
<title>P1</title>
<path fill="#dae8fc" stroke="#6c8ebf" d="M366,-64C366,-64 280,-64 280,-64 274,-64 268,-58 268,-52 268,-52 268,-40 268,-40 268,-34 274,-28 280,-28 280,-28 366,-28 366,-28 372,-28 378,-34 378,-40 378,-40 378,-52 378,-52 378,-58 372,-64 366,-64"/>
<text text-anchor="middle" x="323" y="-42.3" font-family="Times,serif" font-size="14.00">Pool 1: A ↔ X</text>
</g>
<!-- U2&#45;&gt;P1 -->
<g id="edge1" class="edge">
<title>U2&#45;&gt;P1</title>
<path fill="none" stroke="black" d="M163.8,-26.78C193.92,-30.44 228.6,-34.65 257.8,-38.2"/>
<polygon fill="black" stroke="black" points="257.53,-41.69 267.88,-39.43 258.38,-34.75 257.53,-41.69"/>
<text text-anchor="middle" x="224.5" y="-39.8" font-family="Times,serif" font-size="14.00">Send A</text>
</g>
<!-- P2 -->
<g id="node3" class="node">
<title>P2</title>
<path fill="#dae8fc" stroke="#6c8ebf" d="M628,-158C628,-158 543,-158 543,-158 537,-158 531,-152 531,-146 531,-146 531,-134 531,-134 531,-128 537,-122 543,-122 543,-122 628,-122 628,-122 634,-122 640,-128 640,-134 640,-134 640,-146 640,-146 640,-152 634,-158 628,-158"/>
<text text-anchor="middle" x="585.5" y="-136.3" font-family="Times,serif" font-size="14.00">Pool 2: X ↔ Y</text>
</g>
<!-- P1&#45;&gt;P2 -->
<g id="edge2" class="edge">
<title>P1&#45;&gt;P2</title>
<path fill="none" stroke="black" d="M378.37,-61.65C416.47,-73.08 468.36,-89.57 513,-107 521.23,-110.22 529.87,-113.91 538.18,-117.64"/>
<polygon fill="black" stroke="black" points="536.84,-120.88 547.39,-121.84 539.74,-114.51 536.84,-120.88"/>
<text text-anchor="middle" x="454.5" y="-110.8" font-family="Times,serif" font-size="14.00">Receive X</text>
</g>
<!-- F2 -->
<g id="node6" class="node">
<title>F2</title>
<polygon fill="#f5f5f5" stroke="#666666" points="1107,-113 893,-113 893,-75 1113,-75 1113,-107 1107,-113"/>
<polyline fill="none" stroke="#666666" points="1107,-113 1107,-107 "/>
<polyline fill="none" stroke="#666666" points="1113,-107 1107,-107 "/>
<text text-anchor="middle" x="1003" y="-97.8" font-family="Times,serif" font-size="14.00">Fees on each hop (0.3%)</text>
<text text-anchor="middle" x="1003" y="-82.8" font-family="Times,serif" font-size="14.00">→ auto‑compounded in pools</text>
</g>
<!-- P1&#45;&gt;F2 -->
<g id="edge8" class="edge">
<title>P1&#45;&gt;F2</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M378.19,-45.58C474.6,-45.4 682.15,-47.59 856,-67 870.36,-68.6 885.44,-70.8 900.22,-73.25"/>
<polygon fill="black" stroke="black" points="899.95,-76.76 910.4,-74.99 901.13,-69.86 899.95,-76.76"/>
</g>
<!-- P3 -->
<g id="node4" class="node">
<title>P3</title>
<path fill="#dae8fc" stroke="#6c8ebf" d="M844,-112C844,-112 758,-112 758,-112 752,-112 746,-106 746,-100 746,-100 746,-88 746,-88 746,-82 752,-76 758,-76 758,-76 844,-76 844,-76 850,-76 856,-82 856,-88 856,-88 856,-100 856,-100 856,-106 850,-112 844,-112"/>
<text text-anchor="middle" x="801" y="-90.3" font-family="Times,serif" font-size="14.00">Pool 3: Y ↔ B</text>
</g>
<!-- P2&#45;&gt;P3 -->
<g id="edge3" class="edge">
<title>P2&#45;&gt;P3</title>
<path fill="none" stroke="black" d="M640.1,-128.45C669.06,-122.21 705.04,-114.46 735.53,-107.89"/>
<polygon fill="black" stroke="black" points="736.6,-111.24 745.64,-105.71 735.12,-104.4 736.6,-111.24"/>
<text text-anchor="middle" x="693" y="-126.8" font-family="Times,serif" font-size="14.00">Receive Y</text>
</g>
<!-- P2&#45;&gt;F2 -->
<g id="edge9" class="edge">
<title>P2&#45;&gt;F2</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M640.37,-141.67C646.32,-141.8 652.29,-141.92 658,-142 689.11,-142.43 696.99,-144.53 728,-142 785.46,-137.32 799.21,-130.91 856,-121 867.31,-119.03 879.1,-116.92 890.86,-114.79"/>
<polygon fill="black" stroke="black" points="891.52,-118.23 900.73,-113 890.27,-111.35 891.52,-118.23"/>
</g>
<!-- P3&#45;&gt;U2 -->
<g id="edge4" class="edge">
<title>P3&#45;&gt;U2</title>
<path fill="none" stroke="black" d="M745.81,-78.06C688.52,-61.94 595.24,-37.78 513,-26 399.87,-9.8 267.92,-10.39 182.21,-13.31"/>
<polygon fill="black" stroke="black" points="181.86,-9.82 171.99,-13.68 182.11,-16.81 181.86,-9.82"/>
<text text-anchor="middle" x="454.5" y="-29.8" font-family="Times,serif" font-size="14.00">Receive B (final)</text>
</g>
<!-- P3&#45;&gt;F2 -->
<g id="edge10" class="edge">
<title>P3&#45;&gt;F2</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M856.12,-94C864.53,-94 873.5,-94 882.69,-94"/>
<polygon fill="black" stroke="black" points="882.73,-97.5 892.73,-94 882.73,-90.5 882.73,-97.5"/>
</g>
<!-- R -->
<g id="node5" class="node">
<title>R</title>
<polygon fill="#f5f5f5" stroke="#666666" points="175,-115 0,-115 0,-77 181,-77 181,-109 175,-115"/>
<polyline fill="none" stroke="#666666" points="175,-115 175,-109 "/>
<polyline fill="none" stroke="#666666" points="181,-109 175,-109 "/>
<text text-anchor="middle" x="90.5" y="-99.8" font-family="Times,serif" font-size="14.00">Routing: find best path</text>
<text text-anchor="middle" x="90.5" y="-84.8" font-family="Times,serif" font-size="14.00">(A→X→Y→B)</text>
</g>
<!-- R&#45;&gt;P1 -->
<g id="edge5" class="edge">
<title>R&#45;&gt;P1</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M179.3,-76.95C205.47,-71.28 233.64,-65.17 257.98,-59.89"/>
<polygon fill="black" stroke="black" points="258.77,-63.3 267.81,-57.76 257.29,-56.46 258.77,-63.3"/>
</g>
<!-- R&#45;&gt;P2 -->
<g id="edge6" class="edge">
<title>R&#45;&gt;P2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M181.2,-108.04C187.22,-108.73 193.2,-109.4 199,-110 311.87,-121.73 443.78,-131.05 520.36,-136.03"/>
<polygon fill="black" stroke="black" points="520.58,-139.55 530.79,-136.7 521.03,-132.57 520.58,-139.55"/>
</g>
<!-- R&#45;&gt;P3 -->
<g id="edge7" class="edge">
<title>R&#45;&gt;P3</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M181.23,-95.75C326.28,-95.34 608.8,-94.54 735.64,-94.18"/>
<polygon fill="black" stroke="black" points="735.97,-97.68 745.96,-94.15 735.95,-90.68 735.97,-97.68"/>
</g>
</g>
</svg>
