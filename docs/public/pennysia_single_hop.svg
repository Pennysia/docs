<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="1098pt" height="112pt"
 viewBox="0.00 0.00 1097.69 112.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 108)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-108 1093.69,-108 1093.69,4 -4,4"/>
<!-- U -->
<g id="node1" class="node">
<title>U</title>
<ellipse fill="#fff2cc" stroke="#d6b656" cx="83.84" cy="-84" rx="83.69" ry="18"/>
<text text-anchor="middle" x="83.84" y="-80.3" font-family="Times,serif" font-size="14.00">User (Swapper)</text>
</g>
<!-- P -->
<g id="node2" class="node">
<title>P</title>
<path fill="#dae8fc" stroke="#6c8ebf" d="M638.69,-76C638.69,-76 472.69,-76 472.69,-76 466.69,-76 460.69,-70 460.69,-64 460.69,-64 460.69,-50 460.69,-50 460.69,-44 466.69,-38 472.69,-38 472.69,-38 638.69,-38 638.69,-38 644.69,-38 650.69,-44 650.69,-50 650.69,-50 650.69,-64 650.69,-64 650.69,-70 644.69,-76 638.69,-76"/>
<text text-anchor="middle" x="555.69" y="-60.8" font-family="Times,serif" font-size="14.00">Pool: Token A ↔ Token B</text>
<text text-anchor="middle" x="555.69" y="-45.8" font-family="Times,serif" font-size="14.00">(shared liquidity)</text>
</g>
<!-- U&#45;&gt;P -->
<g id="edge1" class="edge">
<title>U&#45;&gt;P</title>
<path fill="none" stroke="black" d="M167.79,-84.06C240.41,-83.49 348.72,-81.13 442.69,-73 445.25,-72.78 447.85,-72.54 450.47,-72.28"/>
<polygon fill="black" stroke="black" points="451.09,-75.73 460.66,-71.2 450.35,-68.77 451.09,-75.73"/>
<text text-anchor="middle" x="314.19" y="-86.8" font-family="Times,serif" font-size="14.00">Send Token A (input)</text>
</g>
<!-- P&#45;&gt;U -->
<g id="edge2" class="edge">
<title>P&#45;&gt;U</title>
<path fill="none" stroke="black" d="M460.5,-48.38C385.61,-43.4 278.4,-40.5 185.69,-54 169.52,-56.35 152.35,-60.72 136.84,-65.41"/>
<polygon fill="black" stroke="black" points="135.41,-62.19 126.92,-68.52 137.51,-68.87 135.41,-62.19"/>
<text text-anchor="middle" x="314.19" y="-57.8" font-family="Times,serif" font-size="14.00">Receive Token B (output, after fees)</text>
</g>
<!-- Ares2 -->
<g id="node4" class="node">
<title>Ares2</title>
<polygon fill="#f5f5f5" stroke="#666666" points="1083.69,-104 921.69,-104 921.69,-66 1089.69,-66 1089.69,-98 1083.69,-104"/>
<polyline fill="none" stroke="#666666" points="1083.69,-104 1083.69,-98 "/>
<polyline fill="none" stroke="#666666" points="1089.69,-98 1083.69,-98 "/>
<text text-anchor="middle" x="1005.69" y="-88.8" font-family="Times,serif" font-size="14.00">Reserves after trade:</text>
<text text-anchor="middle" x="1005.69" y="-73.8" font-family="Times,serif" font-size="14.00">A: A₀+ΔA &#160;| &#160;B: B₀&#45;ΔB</text>
</g>
<!-- P&#45;&gt;Ares2 -->
<g id="edge4" class="edge">
<title>P&#45;&gt;Ares2</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M650.87,-62.89C727.51,-67.68 835.09,-74.4 911.46,-79.17"/>
<polygon fill="black" stroke="black" points="911.36,-82.67 921.56,-79.8 911.79,-75.69 911.36,-82.67"/>
<text text-anchor="middle" x="786.19" y="-81.8" font-family="Times,serif" font-size="14.00">Reserves update (pull A, push B)</text>
</g>
<!-- F -->
<g id="node5" class="node">
<title>F</title>
<polygon fill="#f5f5f5" stroke="#666666" points="1079.69,-48 925.69,-48 925.69,-10 1085.69,-10 1085.69,-42 1079.69,-48"/>
<polyline fill="none" stroke="#666666" points="1079.69,-48 1079.69,-42 "/>
<polyline fill="none" stroke="#666666" points="1085.69,-42 1079.69,-42 "/>
<text text-anchor="middle" x="1005.69" y="-32.8" font-family="Times,serif" font-size="14.00">Fees (0.3%)</text>
<text text-anchor="middle" x="1005.69" y="-17.8" font-family="Times,serif" font-size="14.00">→ auto‑compounded</text>
</g>
<!-- P&#45;&gt;F -->
<g id="edge5" class="edge">
<title>P&#45;&gt;F</title>
<path fill="none" stroke="black" d="M624.63,-37.94C639.06,-34.65 654.29,-31.73 668.69,-30 751.87,-19.99 847.47,-20.9 915.38,-23.62"/>
<polygon fill="black" stroke="black" points="915.48,-27.13 925.62,-24.06 915.77,-20.14 915.48,-27.13"/>
<text text-anchor="middle" x="786.19" y="-48.8" font-family="Times,serif" font-size="14.00">Fee taken</text>
<text text-anchor="middle" x="786.19" y="-33.8" font-family="Times,serif" font-size="14.00">and reinvested</text>
</g>
<!-- Ares -->
<g id="node3" class="node">
<title>Ares</title>
<polygon fill="#f5f5f5" stroke="#666666" points="146.34,-38 15.34,-38 15.34,0 152.34,0 152.34,-32 146.34,-38"/>
<polyline fill="none" stroke="#666666" points="146.34,-38 146.34,-32 "/>
<polyline fill="none" stroke="#666666" points="152.34,-32 146.34,-32 "/>
<text text-anchor="middle" x="83.84" y="-22.8" font-family="Times,serif" font-size="14.00">Reserves before:</text>
<text text-anchor="middle" x="83.84" y="-7.8" font-family="Times,serif" font-size="14.00">A: A₀ &#160;| &#160;B: B₀</text>
</g>
<!-- Ares&#45;&gt;P -->
<g id="edge3" class="edge">
<title>Ares&#45;&gt;P</title>
<path fill="none" stroke="black" stroke-dasharray="1,5" d="M152.54,-14.91C224.83,-11.75 342.51,-10.11 442.69,-25 457.95,-27.27 474.06,-31.03 489.16,-35.18"/>
<polygon fill="black" stroke="black" points="488.34,-38.59 498.91,-37.96 490.26,-31.86 488.34,-38.59"/>
<text text-anchor="middle" x="314.19" y="-28.8" font-family="Times,serif" font-size="14.00">Spot price from totals</text>
</g>
</g>
</svg>
